<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>板鞋-安踏官方商城</title>
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/mask.css">
  <link rel="stylesheet" href="css/public.css">
</head>

<body>
  <header></header>
  <!-- main -->
  <section>
    <div class="wcp_wrap">
      <div class="list_crumb">
        <ul class="list_crumb_list">
          <li class="classify"><a href="index.html">首页</a><span class="crumb_arrow"></span></li>
          <li class="classify"><a href="list.html">所有分类</a><span class="crumb_arrow"></span></li>
          <li class="classify"><a href="#" title="鞋">鞋</a>
            <soan class="crumb_arrow"></soan>
          </li>
          <li class="classify"><a href="#" title="男鞋">男鞋</a><span class="crumb_arrow"></span></li>
          <li class="classify"><a href="#" title="生活休闲类鞋">生活休闲类鞋</a><span class="crumb_arrow"></span></li>
          <li class="classify"><a href="#" title="板鞋">板鞋</a><span class="crumb_arrow"></span></li>
          <li><a href="#">板鞋</a></li>
        </ul>
      </div>
      <div class="detail-ctr">
        <div id="bigView"></div>
        <div class="dtl-info clear_fix">
          <div class="preview clear_fix">
            <div class="smallImg clear_fix">
              <div class="scrollbutton smallImgUp disabled"></div>
              <div id="imageMenu" class="clear_fix">
                <ul style="display:none;" class="imageMenu-list clear_fix">
                  <li class="i">
                    <img src="maskImg/91918000-5-1.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-5-2.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-5-3.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-5-4.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-5-5.jpg" width="98" height="98">
                  </li>
                </ul>
                <ul style="display:none;" class="clear_fix imageMenu-list">
                  <li class="i">
                    <img src="maskImg/91918000-3-1.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-3-2.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-3-3.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-3-4.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-3-5.jpg" width="98" height="98">
                  </li>
                </ul>
                <ul style="display:none;" class="imageMenu-list clear_fix">
                  <li class="i">
                    <img src="maskImg/91918000-2-1.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-2-2.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-2-3.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-2-4.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-2-5.jpg" width="98" height="98">
                  </li>
                </ul>
                <ul class="imageMenu-list clear_fix">
                  <li class="i">
                    <img src="maskImg/91918000-1-1.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-1-2.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-1-3.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-1-4.jpg" width="98" height="98">
                  </li>
                  <li class="i">
                    <img src="maskImg/91918000-1-5.jpg" width="98" height="98">
                  </li>
                </ul>
              </div>
              <div class="scrollbutton smallImgDown"></div>
            </div>
            <div id="vertical" class="bigImg clear_fix">
              <img id="midimg" width="600" height="600" alt="板鞋" style="margin-top: 0px;"
                src="maskImg/zt-91918000.jpg" />
              <div id="mask"></div>
            </div>
            <div sharetitle="板鞋" id="share" class="share">
              <span> 分享 <i></i></span>
              <a id="favPro" class="favPro" title="收藏该商品">收藏商品 +</a>
            </div>
          </div>
          <div class="pro-info-dtl">
            <div class="pro-detail-hd">
              <h1>
                <span class="fl goodsname">小白鞋男鞋板鞋2019春夏季</span>
                <span class="exp-style">款号：<span class="goods-style-num">91918000</span></span>
              </h1>
              <a class="start-comment">
                <span class="reviews-summary"></span>
                <span class="review-count">(4.9)</span>
              </a>
            </div>
            <div class="pro-sales-list">
              <p class="pro-sales-img">
                <img style="width:100%;" src="maskImg/onsale_m01.png">
              </p>
              <p class="pro-sales-item">
                <span>￥</span>
                <span class="price" style="font-size: 28px">139.00</span>
              </p>
              <p class="pro-sales-item">吊牌价：<span class="tag-price">229.00</span> &nbsp;&nbsp; 折扣：61% (折让:￥90)
              </p>
              <a href="#" class="pro-coupons-btn">
                <img src="maskImg/coupons-btn-pc.png" alt="领取优惠券">
              </a>
            </div>
            <div class="pro-alert">
              <p>
                <a href="#">国庆满399送鞋袋&gt;&gt;</a><br>
                <a href="#"> 国庆满399送袜子&gt;&gt;</a><br>
                <a href="#">全场包邮&gt;&gt;</a><br>
              </p>
            </div>
            <div id="selectbox" class="selectbox">
              <div class="colorbox pro-key clear_fix">
                <p>颜色:<span class="colorname"></span></p>
                <ul id="proColor">
                  <li data-col="91918000-5" data="274" data-desc="黑/燕麦白" class="color_code">
                    <img title="黑/燕麦白" width="60" height="60" src="maskImg/91918000-5-1.jpg"><i></i>
                  </li>
                  <li data-col="91918000-3" data="1198" data-desc="安踏白/海藻绿" class="color_code">
                    <img title="安踏白/海藻绿" width="60" height="60" src="maskImg/91918000-3-1.jpg"><i></i>
                  </li>
                  <li data-col="91918000-2" data="1481" data-desc="安踏白/黑" class="color_code">
                    <img title="安踏白/黑" width="60" height="60" src="maskImg/91918000-2-1.jpg"><i></i>
                  </li>
                  <li data-col="91918000-1" data="2273" data-desc="安踏白/大学红" class="color_code">
                    <img title="安踏白/大学红" width="60" height="60" src="maskImg/91918000-1-1.jpg"><i></i>
                  </li>
                </ul>
              </div>
              <div id="color-size" class="sizebox pro-key">
                <p>
                  <span class="fl" style="width:120px;">尺码：<span class="sizename"></span>
                  </span>
                  <span class="fl">库存：<span class="stock"></span>
                  </span>
                  <a class="help-size" style="cursor: pointer;">查看尺码对照表</a>
                </p>
                <ul class="clear_fix">
                  <li data-size="39" data-num="0" class="color_sku js39 disable"><a>39</a></li>
                  <li data-size="40" data-num="0" class="color_sku js40 disable"><a>40</a></li>
                  <li data-size="40.5" data-num="0" class="color_sku js40.5 disable">
                    <a>40.5</a>
                  </li>
                  <li data-size="41" data-num="0" class="color_sku js41 disable"><a>41</a></li>
                  <li data-size="42" data-num="0" class="color_sku js42 disable"><a>42</a></li>
                  <li data-size="42.5" data-num="0" class="color_sku js42.5 disable">
                    <a>42.5</a>
                  </li>
                  <li data-size="43" data-num="0" class="color_sku js43 disable"><a>43</a></li>
                  <li data-size="44.5" data-num="0" class="color_sku js44.5 disable">
                    <a>44.5</a>
                  </li>
                </ul>
              </div>
              <div class="sumbox">
                <div class="amount-box">
                  <a><span>数量：</span><span class="pro-num">1</span></a>
                  <ul class="clear_fix">
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                    <li>5</li>
                    <li>6</li>
                    <li>7</li>
                    <li>8</li>
                  </ul>
                </div>
                <div class="buttonbox">
                  <input id="addcart" class="dtl-cart" type="button" value="加入购物车">
                  <input id="buy" style="background-color: #d00;" type="button" value="立即购买">
                </div>
              </div>
            </div>
            <div class="pro-intro">
              <h3>商品说明 :</h3>
              <p>系列：生活系列 <br> 底料：成型EVA 面料：合成革 </p>
            </div>
          </div>
        </div>
        <!--详情-->
        <div class="maybe-like">
          <p>您可能还喜欢</p>
          <div class="like-pro">
            <a target="_blank" class="dtl-img" href="list.html" title="板鞋">
              <img class="loading" src="maskImg/91918000_big--w_220_h_220.jpg" alt="板鞋" width="220" height="220">
            </a>
            <a target="_blank" class="dtl-img" href="list.html" title="">
              <img class="loading" src="maskImg/91928071_big--w_220_h_220.jpg" alt="" width="220" height="220">
            </a>
          </div>
        </div>
        <div class="pro-dtl-ctr">
          <div class="pro-dtl-menu">
            <a class="current">产品细节 <i></i></a><a>商品评价 <i></i></a>
          </div>
          <div class="detail-box">
            <img src="maskImg/wp-91918000-0_01.jpg" class="loading">
            <img src="maskImg/wp-91918000-0_05.jpg" class="loading">
            <img src="maskImg/wp-91918000-0_09.jpg" class="loading">
            <img src="maskImg/wp-91918000-0_22.jpg" class="loading">
            <img src="maskImg/bd-91918000-1-1.jpg" class="loading">
            <img src="maskImg/bd-91918000-1-4.jpg" class="loading">
            <img src="maskImg/bd-91918000-1-5.jpg" class="loading">
            <img src="maskImg/bd-91918000-2-5.jpg" class="loading">
            <img src="maskImg/bd-91918000-3-5.jpg" class="loading">
            <img src="maskImg/bd-91918000-4-5.jpg" class="loading">
            <img src="maskImg/bd-91918000-5-5.jpg" class="loading">
          </div>
        </div>
      </div>
    </div>
  </section>
  <footer></footer>
</body>

</html>
<script src="js/jQuery.js"></script>
<script src="js/jquery.cookie.js"></script>
<script>
  $("header").load("public.html header", function () {
    $.getScript("js/public.js");
  });
  $("footer").load("public.html footer");
  $(".i").click(function () {
    let s = $(this).find("img").attr("src");
    // console.log();
    $("#midimg").attr("src", s);
    $("#bigView").css({ background: 'url(' + s + ')' });
  })
  $(".color_code").click(function () {
    let colorname = $(this).attr("data-desc");
    let stock = $(this).attr("data");
    // console.log(colorname);
    $(".colorname").text(colorname);
    $(".stock").text(stock);
    // console.log($("#colorname").find("span"));
    let index = $(this).index();
    // 找到每个小图片的第一个 图片的src
    let s = $(".imageMenu-list").eq(index).find(".i").eq(0).find("img").eq(0).attr("src");
    $(".imageMenu-list").eq(index).stop().show().siblings().stop().hide();
    $("#midimg").attr("src", s);
    $("#bigView").css({ background: 'url(' + s + ')' });
    $(this).addClass("active").siblings().removeClass("active");
    $(this).css({ border: " 2px solid #be0106" }).siblings().css({ border: "" })
  })
  $(".color_sku").click(function () {
    $(".sizename").text($(this).attr("data-size"));
    $(this).addClass("active").siblings().removeClass("active");
    $(this).css({ border: " 2px solid #be0106" }).siblings().css({ border: "" })
  })
  $(".amount-box a").click(function () {
    $(".amount-box ul").stop().show();
  })
  $(".amount-box ul li").click(function () {
    $(".pro-num").text($(this).text());
    $(".amount-box ul").stop().hide();
  })
  // 加入购物车
  $("#addcart").click(function () {
    // 选中颜色 尺码加入
    if ($(".color_code").hasClass("active") && $(".color_sku").hasClass("active")) {
      $(".sumbox").show();
      if (window.localStorage) {
        let ls = window.localStorage;
        let oGoodsName = $(this).parents().find(".goodsname").text() + "-" + $(this).parents().find(".goods-style-num").text();
        let oGoodsStyleNum = $(this).parents().find(".goods-style-num").text();
        let oGoodsColor = $(this).parents().find(".colorname").text();
        let oGoodsSize = $(this).parents().find(".sizename").text();
        let oGoodsPrice = $(this).parents().find(".price").text();
        let oGoodsTagPrice = $(this).parents().find(".tag-price").text();
        let oGoodsNumber = $(this).parents().find(".pro-num").text();
        let oGoodsImg = $(this).parents().find(".active img").attr("src");
        let key = `${oGoodsColor}${oGoodsSize}`;
        for (let i = 0; i < ls.length; i++) {
          let json2 = JSON.parse(ls.getItem(ls.key(i)));
          if (key == ls.key(i)) {
            oGoodsNumber = + oGoodsNumber + json2.oGoodsNumber;
          }
        }
        // console.log(oGoodsNumber);
        ls.setItem(key, `{"oGoodsName":"${oGoodsName}","oGoodsStyleNum":${oGoodsStyleNum},"oGoodsColor":"${oGoodsColor}","oGoodsSize":${oGoodsSize},"oGoodsPrice":${oGoodsPrice},"oGoodsTagPrice":${oGoodsTagPrice},"oGoodsNumber":${oGoodsNumber},"oGoodsImg":"${oGoodsImg}"}`);
        // 飞入动画 
        let offset = $(".right-sidebar").offset();  //结束的地方的元素
        let flyer = $('<img class="u-flyer" src="' + oGoodsImg + '">');
        let flyTop = parseInt($("#addcart").parents().find(".active img").offset().top);
        let flyLeft = parseInt($("#addcart").parents().find(".active img").offset().left);
        flyer.appendTo("body");
        flyer.css({
          'opacity': '0.8',
          position: 'absolute',
          top: flyTop,
          left: flyLeft,
          height: '60px',
          width: '60px',
          zIndex: '100',
          borderRadius: '50%'
        })
        flyer.animate({
          left: offset.left + 30,
          top: offset.top + 300,
          width: 0,
          height: 0
        }, 1000)
        // 加入小购物车 
        for (let i = 0; i < ls.length; i++) {
          let json = JSON.parse(ls.getItem(ls.key(i)));
          let oGoodsPrice2 = parseFloat(json.oGoodsPrice).toFixed(2);
          let str = "";
          str += `
              <tr class="cart-item" index="${ls.key(i)}">
              <td width="25">
                <input type="checkbox" class="check-item j-checkbox">
              </td>
              <td width="60">
                <a href="mask.html" target="_blank" class="right-sidebar-img">
                  <img src="${json.oGoodsImg}" alt="小白鞋男鞋板鞋2019春夏季">
                </a>
              </td>
              <td width="70">
                <span class="right-sidebar-title">${json.oGoodsName}</span>
              </td>
              <td width="65">
                <div class="num-box">
                  <a class="num-op decrement">-</a>
                  <span class="little-num">${json.oGoodsNumber}</span>
                  <a class="num-op increment">+</a>
                </div>
              </td>
              <td width="60">
                <a class="cart-remove" index="${ls.key(i)}">x</a>
                <span class="num-price">${oGoodsPrice2}</span>
              </td>
            </tr>`
          if(key == ls.key(i)){
            $("tbody").children().remove();
            $("tbody").append(str);
          }else{
            $("tbody").append(str);
          }
          $(".cart-item").hover(function(){
            $(this).find(".num-op").css({display:"block"});
            $(this).find(".cart-remove").css({display:"block"});
          },function(){
            $(this).find(".num-op").css({display:"none"});
            $(this).find(".cart-remove").css({display:"none"});
          })
        }
        // 头部数量
        let s_number = 0;
        for (let i = 0; i < ls.length; i++) {
          let json2 = JSON.parse(ls.getItem(ls.key(i)));
          if (json2.oGoodsNumber) {
            s_number += json2.oGoodsNumber;
            $(".tip-text-cart").stop().hide();
            $(".cartBox").stop().show();
          } else {
            s_number = 0;
            $(".tip-text-cart").stop().show();
            $(".cartBox").stop().hide();
          }
        }
        $(".goods-number").text(s_number);
      }
      setTimeout(function () {
        $(".right-sidebar").animate({ right: 0 }, 800, function () { })
      }, 2000)
    } else {
      $(".sumbox").hide();
      $(".selectbox").css({ border: "2px solid red", padding: "5px 5px 30px" })
      $(".color_code").click(function () {
        $(".sumbox").show();
        $(".selectbox").css({ border: "", padding: "" })
      })
      $(".color_sku").click(function () {
        $(".sumbox").show();
        $(".selectbox").css({ border: "", padding: "" })
      })
    }
  })
</script>
<!-- 放大镜 插件-->
<script src="js/mask.js"></script>
<script>
  let oSmall = document.querySelector(".bigImg");
  let oMask = document.querySelector("#mask");
  let oBig = document.querySelector("#bigView");
  let m = new Magnifier(oSmall, oMask, oBig).eventBind();
</script>